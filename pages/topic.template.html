<div class="well" style="padding-left:30px;padding-right:30px;padding-bottom:30px;">

	<div class="container">
		<div class="pull-left">
			<h3>{{data.title}}</h3>
			<h6>Started by {{data.startedByText}}</h6>
		</div>
		<div class="pull-right">

			<h3>
			<button type="button" class="btn btn-primary">
				Follow
			</button></h3>
		</div>
	</div>

	<div class="container">
		<!-- posts -->
		<div ng-repeat="post in data.posts" class="panel-group">

			<div class="panel panel-default">
				<div class="panel panel-default">
					<div class="panel-heading">
						<div class="container">
							<div class="pull-left small">

								<h4><a href="">{{post.username}}</a></h4>
								<small>{{post.time}}</small>
							</div>
							<div class="pull-right small">
								<h5><a href="{{post.postLink}}">{{post.postNumber}}</a></h5>
							</div>
						</div>
					</div>
					<div class="panel-body">
						<div class="col-xs-2 text-center">
							<img class="img-thumbnail" src="images/user.png"></img>

							<h5>{{post.memberGroup}}</h5>
							<h6>{{post.postCount}} posts</h6>
						</div>
						<div class="col-xs-10 text-center">
							<div class="container">
								<div class="post-text" ng-bind-html="post.text"></div>
							</div>
						</div>
					</div>
					<div class="panel-footer">
						<div class="container">
							<div class="pull-right">
								<button type="button" class="btn btn-sm btn-primary">
									Edit
								</button>
								<button type="button" class="btn btn-sm btn-primary">
									Delete
								</button>
								<button type="button" class="btn btn-sm btn-primary">
									Like
								</button>
								<button type="button" class="btn btn-sm btn-primary">
									Quote
								</button>
							</div>
						</div>
					</div>
				</div>
			</div>

		</div>
		<!-- end of posts -->

		<div style="margin-top: 25px;">
			<!-- new reply button -->
			<div class="btn-group pull-right">
				<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#newPostModalForm">
					New Reply
				</button>
			</div>
			<!-- end of new reply button -->

			<!-- pagination -->
			<div class="btn-group ">
				<ul class="pagination" style="margin: 0;">
					<li ng-repeat="page in data.pages" ng-class="{active: page.active==true}">
						<a href="{{page.link}}">{{page.text}}</a>
					</li>
				</ul>
			</div>
			<!-- end of pagination -->
		</div>
	</div>
</div>

<div id="newPostModalForm" class="modal fade" role="dialog">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h2 class="form-signin-heading">New reply</h2>
			</div>
			<div class="modal-body">
				<form id="newPostForm">
					<div class="form-group">
						<label for="bbcodeEditor" class="control-label">Text</label>
						<textarea name="bbcodeEditor" id="bbcodeEditor" class="form-control"></textarea>
					</div>
					<button type="submit" class="btn btn-primary btn-block">
						Post
					</button>
				</form>
			</div>
		</div>
	</div>
</div>

<script>
	$(document).ready(function() {
		$("#bbcodeEditor").sceditor({
			plugins : 'bbcode',
			style : "lib/sceditor/minified/jquery.sceditor.default.min.css",
			width: "100%",
			height: "100%",
			resizeEnabled: false
		});
		$(".sceditor-container").css("width", "100%");
		$(".sceditor-container").css("height", "500px");
		$("iframe").css("width", "99%");
	});
	$('#newPostModalForm').on('shown.bs.modal', function() {
		setIframe();
   	});
	function setIframe() {
		var containerHeight = $(".sceditor-container").height();
		var toolbarHeight = $(".sceditor-toolbar").height();
		console.log(containerHeight);
		console.log(toolbarHeight);
		$("iframe").css("height", (containerHeight-toolbarHeight-20) + "px");
		$("iframe html").css("height", (containerHeight-toolbarHeight-20) + "px");
	};
</script>
